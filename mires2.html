<!DOCTYPE html>
<html>
<head>
  <title>Mini Jogo de Ladrilhamento</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
    }

    table {
      border-collapse: collapse;
      border: 2px solid #000;
      margin: 0 auto;
    }

    td {
      width: 50px;
      height: 50px;
      text-align: center;
    }

    .white {
      background-color: #e5ded3;
    }

    .black {
      background-color: #ab784e;
      color: #fff;
    }

    label {
      margin-right: 10px;
    }

    button {
      margin-top: 10px;
    }

    #area-input {
      display: none;
      margin-top: 20px;
    }

    #result {
      margin-top: 10px;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h1>Mini Jogo de Ladrilhamento</h1>
  <p>Olhe para o ladrilhamento abaixo e tente adivinhar o número total de blocos (quadrados) no ladrilhamento:</p>

  <table id="chessboard">
    <tbody>
    </tbody>
  </table>

  <div id="area-input">
    <label for="userBlocks">Insira a quantidade de blocos:</label>
    <input type="number" id="userBlocks" min="1">
    <button onclick="checkBlocks()">Verificar</button>
  </div>

  <div id="result"></div>

  <script>
    // Função para criar o ladrilhamento de xadrez aleatório
    function createChessboard() {
      const chessboard = document.getElementById('chessboard');
      const tbody = chessboard.getElementsByTagName('tbody')[0];
      const rows = getRandomInt(4, 8); // Tamanho aleatório entre 4 e 8
      const cols = getRandomInt(4, 8);
      const squares = ['white', 'black'];
      let currentColorIndex = 0;

      // Limpar tabuleiro anterior
      while (tbody.firstChild) {
        tbody.removeChild(tbody.firstChild);
      }

      for (let row = 0; row < rows; row++) {
        const tr = document.createElement('tr');
        for (let col = 0; col < cols; col++) {
          const td = document.createElement('td');
          td.className = squares[currentColorIndex];
          currentColorIndex = (currentColorIndex + 1) % 2;
          tr.appendChild(td);
        }
        currentColorIndex = (currentColorIndex + 1) % 2;
        tbody.appendChild(tr);
      }
    }

    // Função para mostrar o input para o usuário tentar adivinhar a área
    function showAreaInput() {
      const areaInput = document.getElementById('area-input');
      areaInput.style.display = 'block';
    }

    // Função para verificar a resposta do usuário
    function checkBlocks() {
      const userBlocksInput = document.getElementById('userBlocks');
      const userBlocks = parseInt(userBlocksInput.value);

      // Calcula a área real do ladrilhamento
      const chessboard = document.getElementById('chessboard');
      const rows = chessboard.getElementsByTagName('tr').length;
      const cols = chessboard.getElementsByTagName('tr')[0].getElementsByTagName('td').length;
      const realBlocks = (rows * cols);

      const resultElement = document.getElementById('result');
      if (userBlocks === realBlocks) {
        resultElement.innerText = 'Parabéns! Você acertou!';
      } else {
        resultElement.innerText = `Ops! Tente novamente. O número correto de blocos é ${realBlocks}.`;
      }

      // Esconde o input após a verificação
      const areaInput = document.getElementById('area-input');
      areaInput.style.display = 'none';

      // Limpa o valor do input para a próxima rodada
      userBlocksInput.value = '';

      // Cria um novo ladrilhamento aleatório após a verificação
      setTimeout(function () {
        resultElement.innerText = ''; // Limpar mensagem de resultado
        createChessboard();
        showAreaInput();
      }, 1000);
    }

    // Função para gerar um número aleatório entre min e max (inclusivos)
    function getRandomInt(min, max) {
      return Math.floor(Math.random() * (max - min + 1)) + min;
    }

    // Chame a função para criar o ladrilhamento e mostrar o input
    createChessboard();
    showAreaInput();
  </script>
</body>
</html>
